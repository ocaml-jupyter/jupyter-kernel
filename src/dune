
(library
  (name jupyter_kernel)
  (public_name jupyter-kernel)
  (libraries result atdgen yojson uuidm ZMQ lwt-zmq
             digestif.c lwt lwt.unix threads
             bytes uutf ISO8601)
  (flags :standard -safe-string -warn-error -3))

(rule
 (targets Protocol_j.ml Protocol_j.mli)
 (deps    Protocol.atd)
 (action  (run atdgen -j -j-std %{deps})))

(rule
 (targets Protocol_t.ml Protocol_t.mli)
 (deps    Protocol.atd)
 (action  (run atdgen -t -j-std %{deps})))
